#!/bin/bash

source tools/ansi-colors

chmod +x tilux
chmod +x ./cryptography/ccrypt/ccrypt_encryption.sh
chmod +x ./cryptography/ccrypt/ccrypt_decryption.sh
chmod +x ./cryptography/gpg/gpg_encryption.sh
chmod +x ./cryptography/gpg/gpg_decryption.sh
chmod +x ./cryptography/openssl/openssl_encryption.sh
chmod +x ./cryptography/openssl/openssl_decryption.sh
chmod +x ./cryptography/zip/zip_encryption.sh
chmod +x ./cryptography/zip/zip_decryption.sh
chmod +x ./monitoring/cpu_monitoring.sh
chmod +x ./monitoring/mem_monitoring.sh
chmod +x ./sys/bf.sh
chmod +x ./sys/clean.sh
chmod +x ./sys/last_updated.sh

chmod +x ./cryptography/pyca/encrypt.py
chmod +x ./cryptography/pyca/decrypt.py
chmod +x ./monitoring/website_monitoring.py
chmod +x ./networking/ip_pinging.py
chmod +x ./networking/server_pinging.py
chmod +x ./sys/fd.py

chmod +x ./info.rb
chmod +x ./sys/del.rb
chmod +x ./sys/exists.rb
chmod +x ./sys/file_updated.rb
chmod +x ./sys/parse_date.rb
chmod +x ./sys/root.rb

chmod +x ./proc_script.rb

# Python3 is required to run the python scripts
if [[ "$(which python3)" == "" ]]; then
  sudo apt-get upgrade
  sudo apt install python3
fi

# Ruby is required to run ruby scripts
if [[ "$(which ruby)" == "" ]]; then
  sudo apt-get upgrade
  sudo apt install ruby-dev ruby-bundler ruby-rspec-core make
fi

# lsb_release is required to run info script
if [[ "$(which lsb_release)" == "" ]]; then
  sudo apt-get upgrade
  sudo apt install lsb-core
fi

# required for compiling C and C++ files
if [ "$(which gcc)" == "" ] || [ "$(which g++)" == "" ]; then
  sudo apt-get upgrade
  sudo apt install build-essential
fi

if [[ ! -f "Gemfile.lock" ]]; then
  bundle install
fi

# compiling C files
gcc sys/fs.c -o fs
gcc spec.c -o spec

# compiling C++ file
g++ proc.cpp -o proc


clear

echo -e "${g}Thanks for using Tilux!${w}\n"
